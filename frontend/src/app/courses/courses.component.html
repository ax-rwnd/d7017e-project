<app-head></app-head>
<div id="cont" class="content" [@content]="sidebarState">
  <div class="container">
    <!-- toggle only visible to owner -->
    <!-- <button *ngIf="toggleHelper()" type="button" class="btn btn-primary" (click)="toggleView()">Toggle</button> -->

    <!-- START of the student view -->
    <span *ngIf="teachCourses.indexOf(currentCourse) === -1; else testTemplate"> <!-- Could switch this do for ex a bool or something -->
      <!-- This view below is for students, the view for the teacher is in teacherView down below -->
      <div class="col-lg-6">
        <!-- Title of the student page-->
        <h1>
          <span *ngIf="currentCourse.code">{{currentCourse.code}} - </span> {{currentCourse.name}}
        </h1>
          <!-- Display the course description, markdown style -->
          <markdown [data]="currentCourse.course_info"></markdown>

          <!-- Feature progress bar -->
          <app-mod-progressbar [courseCode]="currentCourse.id"></app-mod-progressbar>

          <!-- Score board -->
          <div class="gamification-block panel panel-default" *ngIf="currentCourse.rewards.score !== false">
            <div class="panel-heading gamification-header">
              Score
            </div>
            <div class="panel-body">
              {{currentCourse.rewards.score}}
            </div>
          </div>
          <!-- Features, display if defined for course -->
          <app-mod-badges [courseCode]="currentCourse.id"></app-mod-badges>
          <app-mod-leaderboard [courseCode]="currentCourse.id"></app-mod-leaderboard>
          <app-mod-adventuremap-large [courseCode]="currentCourse.id" [courseService]="courseService"></app-mod-adventuremap-large>
      </div>
      <!-- Next column, for assignments group -->
      <div class="col-lg-6">
        <div *ngFor="let g of assignmentGroups">
          <app-assignment-group [assignmentGroup]="g" [courseCode]="currentCourse.id"></app-assignment-group>
        </div>
      </div>
      <!-- End of assignments group -->
    </span>
  </div>

  <ng-template #testTemplate>
    <div class="col-lg-6">
      <h1>
        <span *ngIf="currentCourse.code">{{currentCourse.code}} - </span> {{currentCourse.name}}
      </h1>
      <!-- Display the course description, markdown style
      <markdown [data]="currentCourse.course_info"></markdown> -->
    </div>
  </ng-template>
</div>


